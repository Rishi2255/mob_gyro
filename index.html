<!DOCTYPE html>
<html>
  <head>
    <title>Pro 360Â° Player</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <style>
      #controls { position: absolute; top: 10px; left: 10px; z-index: 100; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 5px; font-family: sans-serif; }
    </style>
  </head>
  <body>

    <div id="controls">
      <input type="file" id="fileInput" accept="video/*">
      <div id="status">Upload a 360 video</div>
    </div>

    <a-scene renderer="antialias: false; powerPreference: high-performance">
      <a-assets>
        <video id="videoElement" loop crossorigin="anonymous" playsinline webkit-playsinline></video>
      </a-assets>

      <a-videosphere src="#videoElement" rotation="0 -90 0"></a-videosphere>

      <a-camera look-controls="pointerLockEnabled: true" wasd-controls-enabled="false"></a-camera>
    </a-scene>

    <script>
      const fileInput = document.getElementById('fileInput');
      const video = document.getElementById('videoElement');

      fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          video.src = URL.createObjectURL(file);
          video.play();
          document.getElementById('status').innerText = "Playing: " + file.name;
        }
      });
    </script>
  </body>
</html>
